<div class="task-detail-container">
  <mat-card *ngIf="loading">
    <mat-card-content>
      <p>Loading task...</p>
    </mat-card-content>
  </mat-card>

  <mat-card *ngIf="error">
    <mat-card-content>
      <p class="error-message">{{error}}</p>
    </mat-card-content>
  </mat-card>

  <mat-card *ngIf="task && !loading">
    <mat-card-header>
      <mat-card-title>{{task.title}}</mat-card-title>
      <mat-card-subtitle>ID: {{task.id}} | Status: {{task.status}}</mat-card-subtitle>
    </mat-card-header>
    
    <mat-card-content>
      <div class="task-details">
        <div class="detail-row">
          <span class="label">Description:</span>
          <span class="value">{{task.description}}</span>
        </div>
        
        <div class="detail-row">
          <span class="label">Due Date:</span>
          <span class="value">{{task.dueDate | date:'medium'}}</span>
        </div>
        
        <div class="detail-row">
          <span class="label">Assigned To:</span>
          <span class="value">{{task.assignedUserName || 'Not assigned'}}</span>
        </div>
        
        <div class="detail-row" *ngIf="task.programId">
          <span class="label">Program:</span>
          <span class="value">{{task.programName}}</span>
        </div>
        
        <div class="detail-row" *ngIf="task.projectId">
          <span class="label">Project:</span>
          <span class="value">{{task.projectName}}</span>
        </div>
        
        <div class="detail-row">
          <span class="label">Created At:</span>
          <span class="value">{{task.createdAt | date:'medium'}}</span>
        </div>
        
        <div class="detail-row">
          <span class="label">Updated At:</span>
          <span class="value">{{task.updatedAt | date:'medium'}}</span>
        </div>
      </div>
    </mat-card-content>
    
    <mat-card-actions>
      <button mat-button color="primary" (click)="goBack()">
        <mat-icon>arrow_back</mat-icon> Back
      </button>
      <button mat-button color="accent" (click)="editTask()">
        <mat-icon>edit</mat-icon> Edit
      </button>
      <button mat-button color="warn" (click)="deleteTask()">
        <mat-icon>delete</mat-icon> Delete
      </button>
    </mat-card-actions>
  </mat-card>
</div>
