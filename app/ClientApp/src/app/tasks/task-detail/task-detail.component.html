<div class="task-detail-container">
  <mat-card *ngIf="loading">
    <mat-card-content>
      <p>Loading task...</p>
    </mat-card-content>
  </mat-card>

  <mat-card *ngIf="error">
    <mat-card-content>
      <p class="error-message">{{error}}</p>
    </mat-card-content>
  </mat-card>

  <mat-card *ngIf="task && !loading">
    <mat-card-header>
      <mat-card-title>{{task.name}}</mat-card-title>
      <mat-card-subtitle>ID: {{task.id}} | Status: {{task.status}}</mat-card-subtitle>
    </mat-card-header>
    
    <mat-card-content>
      <div class="task-details">
        <div class="detail-row">
          <span class="label">Description:</span>
          <span class="value">{{task.description}}</span>
        </div>
        
        <div class="detail-row">
          <span class="label">Priority:</span>
          <span class="value">{{task.priority}}</span>
        </div>
        
        <div class="detail-row">
          <span class="label">Start Date:</span>
          <span class="value">{{task.startDate | date:'medium'}}</span>
        </div>
        
        <div class="detail-row">
          <span class="label">Due Date:</span>
          <span class="value">{{task.dueDate | date:'medium'}}</span>
        </div>
        
        <div class="detail-row">
          <span class="label">Completion:</span>
          <span class="value">{{task.completionPercentage}}%</span>
        </div>
        
        <div class="detail-row">
          <span class="label">Estimated Hours:</span>
          <span class="value">{{task.estimatedHours}}</span>
        </div>
        
        <div class="detail-row">
          <span class="label">Actual Hours:</span>
          <span class="value">{{task.actualHours}}</span>
        </div>
        
        <div class="detail-row" *ngIf="task.assigneeId">
          <span class="label">Assignee ID:</span>
          <span class="value">{{task.assigneeId}}</span>
        </div>
        
        <div class="detail-row" *ngIf="task.projectId">
          <span class="label">Project ID:</span>
          <span class="value">{{task.projectId}}</span>
        </div>
        
        <div class="detail-row" *ngIf="task.parentTaskId">
          <span class="label">Parent Task ID:</span>
          <span class="value">{{task.parentTaskId}}</span>
        </div>
        
        <div class="detail-row">
          <span class="label">Created At:</span>
          <span class="value">{{task.createdAt | date:'medium'}}</span>
        </div>
        
        <div class="detail-row" *ngIf="task.updatedAt">
          <span class="label">Updated At:</span>
          <span class="value">{{task.updatedAt | date:'medium'}}</span>
        </div>
      </div>
    </mat-card-content>
    
    <mat-card-actions>
      <button mat-button color="primary" (click)="goBack()">
        <mat-icon>arrow_back</mat-icon> Back
      </button>
      <button mat-button color="accent" (click)="editTask()">
        <mat-icon>edit</mat-icon> Edit
      </button>
      <button mat-button color="warn" (click)="deleteTask()">
        <mat-icon>delete</mat-icon> Delete
      </button>
    </mat-card-actions>
  </mat-card>
</div>
